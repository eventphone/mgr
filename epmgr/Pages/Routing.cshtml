@page
@model RoutingModel

@{
    ViewBag.Title = "Extensions";
}

    <h2>Extensions <a class="btn btn-primary" asp-page="/Routing/Edit" role="button">Add</a></h2>
<form method="get">
    <div class="input-group">
        <input type="text" class="form-control" placeholder="Search" name="q" value="@Model.Query">
        <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="submit"><span class="oi oi-magnifying-glass"></span></button>
        </div>
    </div>
</form>
@if (Model.Users != null)
{
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">Extension</th>
                <th scope="col">Name</th>
                <th scope="col">Language</th>
                <th scope="col">Type</th>
                <th scope="col">Yate</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.Users)
            {
                <tr>
                    <td><a asp-page="/Routing/Index" asp-route-id="@user.Id">@user.Number</a></td>
                    <td>@user.Name</td>
                    <td>@user.Language</td>
                    <td>@user.Type</td>
                    <td>@user.Yate?.Hostname</td>
                </tr>
            }
        </tbody>
    </table>

}